(()=>{"use strict";var t={311:t=>{t.exports=jQuery}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,o),r.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{const t=(()=>{class t{constructor(t,e,o,n,s){this.name=t,this.id=e,this.theme=o,this.icon=n,this.todos=s||[]}}let e=[],o="";return{projects:e,activeProject:o,addProject:function(n,s,r,a,l){const d=new t(n,s,r,a,l);o=d.name,e.push(d),localStorage.setItem("projects",JSON.stringify(e))},addTodoToProject:function(t){const n=document.getElementById("project-title");o="All"===n.textContent||"Completed"===n.textContent?"Tasks":n.textContent;for(let n of e)n.name===o&&(n.todos.push(t),console.log(n.name),console.log("Check em yo"));localStorage.setItem("projects",JSON.stringify(e))}}})();var e=o(311);const n=(()=>{function o(e){const o=document.querySelector(`[data-key='${e.id}']`);if(e.deleted)return void o.remove();const n=document.querySelector(".todo-list"),s=document.createElement("li"),a=e.checked?"done":"";s.setAttribute("class",`total-todo ${a}`),s.setAttribute("data-key",e.id),s.innerHTML=`\n        <div class="todo-item">\n                <div class="checkbox">\n                    <input type="checkbox" name="checkbox" id="${e.id}">\n                    <label for="${e.id}" class="js-tick tick">\n                </div>\n                <div class="todo-main">\n                    <span class="js-todo">${e.name}</span>\n                </div>\n        </div>\n        `;const l=document.createElement("div");l.classList.add("right-side"),s.appendChild(l),!1===e.important||void 0===e.important?l.innerHTML='\n            <button class="bi bi-star star"></button>\n            <button class="bi bi-trash js-delete"></button>\n            <button class="bi bi-pencil-square js-edit"></button>\n            ':l.innerHTML='\n            <button class="bi bi-star-fill star"></button>\n            <button class="bi bi-trash js-delete"></button>\n            <button class="bi bi-pencil-square js-edit"></button>\n            ',o?n.replaceChild(s,o):n.append(s),localStorage.setItem("todos",JSON.stringify(r.tasks)),localStorage.setItem("projects",JSON.stringify(t.projects))}return document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".todo-list");document.querySelector(".todo-input").disabled=!0,e.textContent="Welcome! Create a new project or click 'All' to get started.";let o=JSON.parse(localStorage.getItem("projects"));const n=document.getElementById("projects-nav");for(let e of o){const o=n.getElementsByTagName("li").length+1;e.id="project-"+o,t.addProject(e.name,e.id,e.theme,e.icon,e.todos);const r=document.createElement("li");r.setAttribute("id",`project-${o}`),r.classList.add("project-nav-item"),r.innerHTML=`\n                <div class="new-project" data-key="project-${o}">\n                    <span id="project-title-${o}" data-key="project-${o}">${e.name}</span>\n                </div>\n            `,n.appendChild(r),s.clickNav(r)}})),{renderTodo:o,editTodo:function(o,n){const s=document.getElementById("todo-notes"),a=document.getElementById("datepicker"),l=document.getElementById("todo-text");l.value=r.tasks[n].name,a.value=r.tasks[n].date,s.value=r.tasks[n].notes,e("#edit-todo-window").dialog({modal:!0,buttons:[{text:"Save",click:function(){r.tasks[n].name=l.value,o.parentElement.parentElement.parentElement.children[0].children[0].children[1].textContent=l.value,e(this).dialog("close"),r.tasks[n].date=a.value,r.tasks[n].notes=s.value,localStorage.setItem("todos",JSON.stringify(r.tasks)),localStorage.setItem("projects",JSON.stringify(t.projects))}}]})},loadDefault:function(){const e=document.getElementById("project-title");document.querySelector(".todo-list").innerHTML="",e.textContent="Tasks",t.activeProject="Tasks",console.log("Active project: "+t.activeProject);for(let e of t.projects)if("project-0"===e.id)for(let t of e.todos)o(t)},createProjectNav:function(t){const e=document.getElementById("projects-nav"),o=document.createElement("li"),n=e.getElementsByTagName("li").length+1;o.setAttribute("id",`project-${n}`),o.classList.add("project-nav-item"),o.innerHTML=`\n        <div class="new-project" data-key="project-${n}">\n            <span id="project-title-${n}" data-key="project-${n}"></span>\n            <input type="text" id="project-input-${n}" data-key="project-${n}">\n        </div>\n        `,e.appendChild(o),s.projectInput(n),s.clickNav(o)},setProject:function(e,o){const n=document.getElementById(`project-input-${e}`),s=document.getElementById(`project-title-${e}`),r=document.getElementById("project-title");document.querySelector(".todo-list").innerHTML="",s.textContent=o,n.style.display="none",t.activeProject=o,r.textContent=o,t.addProject(r.textContent,`project-${e}`),console.log("Active project: "+t.activeProject)},loadProject:function(e){const n=document.getElementById("project-title");document.querySelector(".todo-list").innerHTML="",n.textContent=t.activeProject;for(let n of t.projects)if(e.id===n.id)for(let t of n.todos)o(t)},loadAllTasks:function(){const e=document.querySelector(".todo-list"),n=document.querySelector("#project-title");t.activeProject="Tasks",n.innerHTML="All",e.innerHTML="";for(let t of r.tasks)!1!==t.checked&&void 0!==t.checked||o(t)},loadImportant:function(){const t=document.querySelector(".todo-list");document.querySelector("#project-title").innerHTML="Important",t.innerHTML="";for(let t of r.tasks)!0!==t.important||!1!==t.checked&&void 0!==t.checked||o(t)},loadCompleted:function(){const t=document.querySelector(".todo-list");document.querySelector("#project-title").innerHTML="Completed",t.innerHTML="";for(let t of r.tasks)!0===t.checked&&o(t)}}})(),s=(()=>{const e=document.querySelector(".todo-input"),o=document.getElementById("submit"),s=document.querySelector(".todo-list"),a=document.querySelector(".new-project"),l=document.getElementById("all-todos"),d=document.getElementById("important-todos"),i=document.getElementById("completed-todos"),c=document.querySelector("#project-title");return c.addEventListener("click",(function(){let e=c.textContent;const o=document.createElement("input"),n=document.querySelectorAll(".project-nav-item"),s=document.querySelector(".header-title");if("Todo List"===c.textContent||"All"===c.textContent||"Completed"===c.textContent||"Important"===c.textContent)return!1;o.setAttribute("type","text"),o.value=c.textContent,c.style.display="none",s.appendChild(o),o.focus(),o.addEventListener("keydown",(function(s){if("Enter"===s.key)if(""!==o.value){o.style.display="none",c.textContent=o.value;for(let e of t.projects)e.name===t.activeProject&&(e.name=o.value),n.forEach((t=>{t.id===e.id&&(t.children[0].children[0].textContent=e.name)}));c.style.display="block",t.activeProject=c.textContent,localStorage.setItem("projects",JSON.stringify(t.projects))}else o.style.display="none",c.textContent=e,c.style.display="block"})),o.addEventListener("blur",(function(){if(""!==o.value){o.style.display="none",c.textContent=o.value;for(let e of t.projects)e.name===t.activeProject&&(e.name=o.value),n.forEach((t=>{t.id===e.id&&(t.children[0].children[0].textContent=e.name)}));t.activeProject=c.textContent,localStorage.setItem("projects",JSON.stringify(t.projects))}else o.style.display="none",c.textContent=e;c.style.display="block"}))})),document.addEventListener("click",(function(){const t=document.querySelector(".todo-input"),e=document.querySelector("#project-title");"Completed"===e.textContent||"Important"===e.textContent?t.disabled=!0:t.disabled=!1})),l.addEventListener("click",n.loadAllTasks),d.addEventListener("click",n.loadImportant),i.addEventListener("click",n.loadCompleted),a.addEventListener("click",n.createProjectNav),o.addEventListener("click",(function(){""!==e.value?(r.addTodo(e.value),e.value="",e.focus()):alert("ERROR: Can't be blank.")})),e.addEventListener("keydown",(function(t){"Enter"===t.key&&(""!==e.value?(r.addTodo(e.value),e.value="",e.focus()):alert("ERROR: Can't be blank"))})),s.addEventListener("click",(e=>{if(e.target.classList.contains("js-tick")){const t=e.target.parentElement.parentElement.parentElement.dataset.key;r.toggleDone(t)}if(e.target.classList.contains("star")){const o=e.target.parentElement.parentElement.dataset.key,s=r.tasks.findIndex((t=>t.id===Number(o)));if(!1===r.tasks[s].important||void 0===r.tasks[s].important){r.tasks[s].important=!0;for(let e of t.projects)for(let t of e.todos)t.id===r.tasks[s].id&&(t.important=!0);e.target.classList.add("bi-star-fill"),e.target.classList.remove("bi-star")}else{r.tasks[s].important=!1;for(let e of t.projects)for(let t of e.todos)t.id===r.tasks[s].id&&(t.important=!1);e.target.classList.remove("bi-star-fill"),e.target.classList.add("bi-star")}localStorage.setItem("todos",JSON.stringify(r.tasks)),localStorage.setItem("projects",JSON.stringify(t.projects)),n.renderTodo(r.tasks[s])}if(e.target.classList.contains("js-edit")){const t=e.target.parentElement.parentElement.dataset.key,o=r.tasks.findIndex((e=>e.id===Number(t)));console.log("Hi!"),n.editTodo(e.target,o)}if(e.target.classList.contains("js-delete")){const o=e.target.parentElement.parentElement.dataset.key,s=r.tasks.findIndex((t=>t.id===Number(o))),a={deleted:!0,...r.tasks[s]};if(!0===r.tasks[s].deleted||void 0===r.tasks[s].deleted)for(let e of t.projects)for(let a of e.todos)if(a.id===r.tasks[s].id){a.deleted=!0,e.todos=e.todos.filter((t=>t.id!==Number(o)));const s={deleted:!0,...e.todos};localStorage.setItem("projects",JSON.stringify(t.projects)),n.renderTodo(s)}r.tasks=r.tasks.filter((t=>t.id!==Number(o))),n.renderTodo(a)}if(e.target.classList.contains("js-todo")){const o=e.target.parentElement.parentElement.parentElement.dataset.key,n=r.tasks.findIndex((t=>t.id===Number(o))),s=document.createElement("input");s.setAttribute("type","text"),s.classList.add("todo-new"),e.target.parentElement.appendChild(s),s.focus(),s.value=e.target.textContent,e.target.style.display="none",s.addEventListener("keydown",(function(o){if("Enter"===o.key)if(""===s.value)alert("ERROR: Can't submit a blank task.");else{s.style.display="none",e.target.style.display="inline-block",e.target.textContent=s.value,r.tasks[n].name=s.value;for(let e of t.projects)for(let o of e.todos)o.id===r.tasks[n].id&&(o.name=s.value,localStorage.setItem("projects",JSON.stringify(t.projects)));localStorage.setItem("todos",JSON.stringify(r.tasks))}})),s.addEventListener("blur",(function(){s.style.display="none",e.target.style.display="inline-block",""!==s.value&&(e.target.textContent=s.value)}))}if(e.target.classList.contains("total-todo")){console.log("Totally");const o=e.target.dataset.key,n=r.tasks.findIndex((t=>t.id===Number(o))),s=document.createElement("input");s.setAttribute("type","text"),s.classList.add("todo-new"),e.target.children[0].children[1].appendChild(s),s.focus(),s.value=e.target.children[0].children[1].children[0].textContent,e.target.children[0].children[1].children[0].style.display="none",s.addEventListener("keydown",(function(o){if("Enter"===o.key)if(""===s.value)alert("ERROR: Can't submit a blank task.");else{s.style.display="none",e.target.children[0].children[1].children[0].style.display="inline-block",e.target.children[0].children[1].children[0].textContent=s.value,r.tasks[n].name=s.value;for(let e of t.projects)for(let o of e.todos)o.id===r.tasks[n].id&&(o.name=s.value,localStorage.setItem("projects",JSON.stringify(t.projects)));localStorage.setItem("todos",JSON.stringify(r.tasks))}})),s.addEventListener("blur",(function(){s.style.display="none",e.target.children[0].children[1].children[0].style.display="inline-block",""!==s.value&&(e.target.children[0].children[1].children[0].textContent=s.value)}))}})),{projectInput:function(t){const e=document.querySelector(".todo-input"),o=document.getElementById(`project-input-${t}`);o.focus(),o.addEventListener("keydown",(function(s){"Enter"===s.key&&(e.disabled=!1,""===o.value?alert("ERROR: Blank titles not allowed."):n.setProject(t,o.value))}))},clickNav:function(e){e.addEventListener("click",(function(){t.activeProject=e.children[0].children[0].textContent,n.loadProject(e)}))}}})(),r=(()=>{class e{constructor(t){this.name=t,this.id=Date.now(),this.notes="",this.date=""}}let o=JSON.parse(localStorage.getItem("todos"))||[];return{tasks:o,addTodo:function(s,r,a,l,d){const i=new e(s,r,a,l,d);o.push(i),n.renderTodo(i),t.addTodoToProject(i),localStorage.setItem("todos",JSON.stringify(o))},toggleDone:function(t){const e=o.findIndex((e=>e.id===Number(t)));o[e].checked=!o[e].checked,n.renderTodo(o[e])},deleteTodo:function(e){console.log(e);const s=o.findIndex((t=>t.id===Number(e))),r={deleted:!0,...o[s]};if(console.log(t.activeProject),confirm("Are you sure you want to delete this todo item?")){for(let n of t.projects)n.name===t.activeProject&&(n.todos=n.todos.filter((t=>t.id!==Number(e))),o=o.filter((t=>t.id!==Number(e))),localStorage.setItem("projects",JSON.stringify(t.projects)));o=o.filter((t=>t.id!==Number(e))),localStorage.setItem("todos",JSON.stringify(o)),n.renderTodo(r)}}}})();var a=o(311),l=o.n(a);l()("#datepicker").datepicker(),window.jQuery=l(),window.$=l()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQVdQLEdBQ3ZENEUsRUFBTWxHLEtBQUtvRyxHQUNYLGFBQWVBLEdBQ2YsbUJBQTBCQSxHQUMxQm5HLGFBQWFDLFFBQVEsUUFBU0MsS0FBS0MsVUFBVThGLEtBcUM3Q0csV0FsQ0osU0FBb0I1SCxHQUNoQixNQUFNa0UsRUFBUXVELEVBQU1JLFdBQVUzRixHQUFRQSxFQUFLcEIsS0FBT29HLE9BQU9sSCxLQUV6RHlILEVBQU12RCxHQUFPckIsU0FBVzRFLEVBQU12RCxHQUFPckIsUUFDckMsYUFBZTRFLEVBQU12RCxLQStCckI0RCxXQTVCSixTQUFvQjlILEdBQ2hCbUMsUUFBUUMsSUFBSXBDLEdBQ1osTUFBTWtFLEVBQVF1RCxFQUFNSSxXQUFVM0YsR0FBUUEsRUFBS3BCLEtBQU9vRyxPQUFPbEgsS0FDbkQ2QixFQUFPLENBQ1RVLFNBQVMsS0FDTmtGLEVBQU12RCxJQUdiLEdBREEvQixRQUFRQyxJQUFJLGlCQUNUMkYsUUFBUSxtREFBb0QsQ0FDM0QsSUFBSSxJQUFJdEMsS0FBVyxFQUFBdEUsU0FDWnNFLEVBQVE1RSxPQUFTLGtCQUNoQjRFLEVBQVF4RSxNQUFRd0UsRUFBUXhFLE1BQU1rRyxRQUFPakYsR0FBUUEsRUFBS3BCLEtBQU9vRyxPQUFPbEgsS0FDaEV5SCxFQUFRQSxFQUFNTixRQUFPakYsR0FBUUEsRUFBS3BCLEtBQU9vRyxPQUFPbEgsS0FDaER3QixhQUFhQyxRQUFRLFdBQVlDLEtBQUtDLFVBQVUsRUFBQVIsWUFHeERzRyxFQUFRQSxFQUFNTixRQUFPakYsR0FBUUEsRUFBS3BCLEtBQU9vRyxPQUFPbEgsS0FDaER3QixhQUFhQyxRQUFRLFFBQVNDLEtBQUtDLFVBQVU4RixJQUM3QyxhQUFlNUYsT0E1Q2IsRyxzQkNBZCxJQUFFLGVBQWVtRyxhQUVqQkMsT0FBTzlJLE9BQVMsSUFDaEI4SSxPQUFPeEQsRUFBSSxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV3LXRvZG8vZXh0ZXJuYWwgdmFyIFwialF1ZXJ5XCIiLCJ3ZWJwYWNrOi8vbmV3LXRvZG8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbmV3LXRvZG8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vbmV3LXRvZG8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL25ldy10b2RvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbmV3LXRvZG8vLi9zcmMvbW9kdWxlcy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly9uZXctdG9kby8uL3NyYy9tb2R1bGVzL2RvbS5qcyIsIndlYnBhY2s6Ly9uZXctdG9kby8uL3NyYy9tb2R1bGVzL2hhbmRsZXJzLmpzIiwid2VicGFjazovL25ldy10b2RvLy4vc3JjL21vZHVsZXMvdG9kb3MuanMiLCJ3ZWJwYWNrOi8vbmV3LXRvZG8vLi9zcmMvbW9kdWxlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGpRdWVyeTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IGRvbSBmcm9tIFwiLi9kb21cIjtcclxuXHJcbmNvbnN0IHByb2plY3RzID0gKCgpID0+IHtcclxuICAgIGNsYXNzIFByb2plY3Qge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKG5hbWUsIGlkLCB0aGVtZSwgaWNvbiwgdG9kb3MpIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgICAgICB0aGlzLnRoZW1lID0gdGhlbWU7XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbiA9IGljb247XHJcbiAgICAgICAgICAgIHRoaXMudG9kb3MgPSB0b2RvcyB8fCBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHByb2plY3RzID0gW107XHJcbiAgICBsZXQgYWN0aXZlUHJvamVjdCA9IFwiXCI7XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUHJvamVjdChuYW1lLCBpZCwgdGhlbWUsIGljb24sIHRvZG9zKSB7XHJcbiAgICAgICAgY29uc3QgbmV3UHJvamVjdCA9IG5ldyBQcm9qZWN0KG5hbWUsIGlkLCB0aGVtZSwgaWNvbiwgdG9kb3MpO1xyXG4gICAgICAgIGFjdGl2ZVByb2plY3QgPSBuZXdQcm9qZWN0Lm5hbWU7XHJcbiAgICAgICAgcHJvamVjdHMucHVzaChuZXdQcm9qZWN0KTtcclxuXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdHMpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRUb2RvVG9Qcm9qZWN0KHRvZG8pIHtcclxuICAgICAgICBjb25zdCBhcHBUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0LXRpdGxlJyk7XHJcbiAgICAgICAgaWYoYXBwVGl0bGUudGV4dENvbnRlbnQgPT09ICdBbGwnIHx8IGFwcFRpdGxlLnRleHRDb250ZW50ID09PSAnQ29tcGxldGVkJykge1xyXG4gICAgICAgICAgICBhY3RpdmVQcm9qZWN0ID0gJ1Rhc2tzJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhY3RpdmVQcm9qZWN0ID0gYXBwVGl0bGUudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IobGV0IGl0ZW0gb2YgcHJvamVjdHMpIHtcclxuICAgICAgICAgICAgaWYoaXRlbS5uYW1lID09PSBhY3RpdmVQcm9qZWN0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaXRlbS50b2Rvcy5wdXNoKHRvZG8pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDaGVjayBlbSB5bycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzKSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJvamVjdHMsXHJcbiAgICAgICAgYWN0aXZlUHJvamVjdCxcclxuICAgICAgICBhZGRQcm9qZWN0LFxyXG4gICAgICAgIGFkZFRvZG9Ub1Byb2plY3RcclxuICAgIH1cclxufSkoKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHByb2plY3RzOyIsImltcG9ydCB0b2RvcyBmcm9tICcuL3RvZG9zJztcclxuaW1wb3J0IGhhbmRsZXJzIGZyb20gJy4vaGFuZGxlcnMnO1xyXG5pbXBvcnQgcHJvamVjdHMgZnJvbSAnLi9wcm9qZWN0cyc7XHJcblxyXG5jb25zdCBkb20gPSAoKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHRvZG9MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tbGlzdCcpO1xyXG4gICAgICAgIGNvbnN0IHRvZG9JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWlucHV0Jyk7XHJcbiAgICAgICAgdG9kb0lucHV0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB0b2RvTGlzdC50ZXh0Q29udGVudCA9IFwiV2VsY29tZSEgQ3JlYXRlIGEgbmV3IHByb2plY3Qgb3IgY2xpY2sgJ0FsbCcgdG8gZ2V0IHN0YXJ0ZWQuXCI7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcm9qZWN0cycpKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBwcm9qZWN0c0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdHMtbmF2Jyk7XHJcbiAgICAgICAgZm9yKGxldCBpdGVtIG9mIGxpc3QpIHtcclxuICAgICAgICAgICAgY29uc3QgbnVtID0gcHJvamVjdHNMaXN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaScpLmxlbmd0aCArIDE7XHJcbiAgICAgICAgICAgIGl0ZW0uaWQgPSBcInByb2plY3QtXCIgKyBudW07XHJcbiAgICAgICAgICAgIHByb2plY3RzLmFkZFByb2plY3QoaXRlbS5uYW1lLCBpdGVtLmlkLCBpdGVtLnRoZW1lLCBpdGVtLmljb24sIGl0ZW0udG9kb3MpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdMaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgICAgIG5ld0xpLnNldEF0dHJpYnV0ZSgnaWQnLCBgcHJvamVjdC0ke251bX1gKVxyXG4gICAgICAgICAgICBuZXdMaS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LW5hdi1pdGVtJyk7XHJcbiAgICAgICAgICAgIG5ld0xpLmlubmVySFRNTCA9ICBgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibmV3LXByb2plY3RcIiBkYXRhLWtleT1cInByb2plY3QtJHtudW19XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJwcm9qZWN0LXRpdGxlLSR7bnVtfVwiIGRhdGEta2V5PVwicHJvamVjdC0ke251bX1cIj4ke2l0ZW0ubmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYDtcclxuXHJcbiAgICAgICAgICAgIHByb2plY3RzTGlzdC5hcHBlbmRDaGlsZChuZXdMaSk7XHJcbiAgICAgICAgICAgIGhhbmRsZXJzLmNsaWNrTmF2KG5ld0xpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9KVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbmRlclRvZG8odG9kbykge1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1rZXk9JyR7dG9kby5pZH0nXWApO1xyXG5cclxuICAgICAgICBpZih0b2RvLmRlbGV0ZWQpIHtcclxuICAgICAgICAgICAgaXRlbS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdG9kb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1saXN0Jyk7XHJcbiAgICAgICAgY29uc3QgbmV3TGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IHRvZG8uY2hlY2tlZCA/ICdkb25lJyA6ICcnO1xyXG5cclxuICAgICAgICBuZXdMaS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgYHRvdGFsLXRvZG8gJHtpc0NoZWNrZWR9YClcclxuICAgICAgICBuZXdMaS5zZXRBdHRyaWJ1dGUoJ2RhdGEta2V5JywgdG9kby5pZCk7XHJcbiAgICAgICAgbmV3TGkuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0b2RvLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiY2hlY2tib3hcIiBpZD1cIiR7dG9kby5pZH1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiJHt0b2RvLmlkfVwiIGNsYXNzPVwianMtdGljayB0aWNrXCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b2RvLW1haW5cIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImpzLXRvZG9cIj4ke3RvZG8ubmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0U2lkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHJpZ2h0U2lkZS5jbGFzc0xpc3QuYWRkKCdyaWdodC1zaWRlJyk7XHJcbiAgICAgICAgbmV3TGkuYXBwZW5kQ2hpbGQocmlnaHRTaWRlKTtcclxuXHJcbiBcclxuICAgICAgICBpZih0b2RvLmltcG9ydGFudCA9PT0gZmFsc2UgfHwgdG9kby5pbXBvcnRhbnQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByaWdodFNpZGUuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmkgYmktc3RhciBzdGFyXCI+PC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiaSBiaS10cmFzaCBqcy1kZWxldGVcIj48L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJpIGJpLXBlbmNpbC1zcXVhcmUganMtZWRpdFwiPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmlnaHRTaWRlLmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJpIGJpLXN0YXItZmlsbCBzdGFyXCI+PC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiaSBiaS10cmFzaCBqcy1kZWxldGVcIj48L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJpIGJpLXBlbmNpbC1zcXVhcmUganMtZWRpdFwiPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICBgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGl0ZW0pIHtcclxuICAgICAgICAgICAgdG9kb0xpc3QucmVwbGFjZUNoaWxkKG5ld0xpLCBpdGVtKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0b2RvTGlzdC5hcHBlbmQobmV3TGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb3MnLCBKU09OLnN0cmluZ2lmeSh0b2Rvcy50YXNrcykpO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzLnByb2plY3RzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZWRpdFRvZG8oZWxlLCBpbmRleCkge1xyXG4gICAgICAgIGNvbnN0IHRvZG9Ob3RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvLW5vdGVzJyk7XHJcbiAgICAgICAgY29uc3QgZGF0ZVBpY2tlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlcGlja2VyJyk7XHJcbiAgICAgICAgY29uc3QgdG9kb1RpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG8tdGV4dCcpO1xyXG5cclxuICAgICAgICB0b2RvVGl0bGUudmFsdWUgPSB0b2Rvcy50YXNrc1tpbmRleF0ubmFtZTtcclxuICAgICAgICBkYXRlUGlja2VyLnZhbHVlID0gdG9kb3MudGFza3NbaW5kZXhdLmRhdGU7XHJcbiAgICAgICAgdG9kb05vdGVzLnZhbHVlID0gdG9kb3MudGFza3NbaW5kZXhdLm5vdGVzO1xyXG5cclxuICAgICAgICAkKFwiI2VkaXQtdG9kby13aW5kb3dcIikuZGlhbG9nKHtcclxuICAgICAgICAgICAgbW9kYWw6IHRydWUsXHJcbiAgICAgICAgICAgIGJ1dHRvbnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnU2F2ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2Rvcy50YXNrc1tpbmRleF0ubmFtZSA9IHRvZG9UaXRsZS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdLnRleHRDb250ZW50ID0gdG9kb1RpdGxlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmRpYWxvZyhcImNsb3NlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2Rvcy50YXNrc1tpbmRleF0uZGF0ZSA9IGRhdGVQaWNrZXIudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZG9zLnRhc2tzW2luZGV4XS5ub3RlcyA9IHRvZG9Ob3Rlcy52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9zJywgSlNPTi5zdHJpbmdpZnkodG9kb3MudGFza3MpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdHMucHJvamVjdHMpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWREZWZhdWx0KCkge1xyXG4gICAgICAgIGNvbnN0IGFwcFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3QtdGl0bGUnKTtcclxuICAgICAgICBjb25zdCB0b2RvTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWxpc3QnKTtcclxuICAgICAgICB0b2RvTGlzdC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIGFwcFRpdGxlLnRleHRDb250ZW50ID0gXCJUYXNrc1wiO1xyXG4gICAgICAgIHByb2plY3RzLmFjdGl2ZVByb2plY3QgPSBcIlRhc2tzXCI7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0FjdGl2ZSBwcm9qZWN0OiAnICsgcHJvamVjdHMuYWN0aXZlUHJvamVjdCk7XHJcbiAgICAgICAgZm9yKGxldCBpdGVtIG9mIHByb2plY3RzLnByb2plY3RzKSB7XHJcbiAgICAgICAgICAgIGlmKGl0ZW0uaWQgPT09IFwicHJvamVjdC0wXCIpIHtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgdG9kbyBvZiBpdGVtLnRvZG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyVG9kbyh0b2RvKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVQcm9qZWN0TmF2KG5hbWUpIHtcclxuICAgICAgICBjb25zdCBwcm9qZWN0c0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdHMtbmF2Jyk7XHJcbiAgICAgICAgY29uc3QgbmV3TGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xyXG4gICAgICAgIGNvbnN0IG51bSA9IHByb2plY3RzTGlzdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGknKS5sZW5ndGggKyAxO1xyXG4gICAgICAgIG5ld0xpLnNldEF0dHJpYnV0ZSgnaWQnLCBgcHJvamVjdC0ke251bX1gKTtcclxuICAgICAgICBuZXdMaS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LW5hdi1pdGVtJylcclxuICAgICAgICBuZXdMaS5pbm5lckhUTUwgPVxyXG4gICAgICAgIGBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwibmV3LXByb2plY3RcIiBkYXRhLWtleT1cInByb2plY3QtJHtudW19XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGlkPVwicHJvamVjdC10aXRsZS0ke251bX1cIiBkYXRhLWtleT1cInByb2plY3QtJHtudW19XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInByb2plY3QtaW5wdXQtJHtudW19XCIgZGF0YS1rZXk9XCJwcm9qZWN0LSR7bnVtfVwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIHByb2plY3RzTGlzdC5hcHBlbmRDaGlsZChuZXdMaSk7XHJcbiAgICAgICAgaGFuZGxlcnMucHJvamVjdElucHV0KG51bSk7XHJcbiAgICAgICAgaGFuZGxlcnMuY2xpY2tOYXYobmV3TGkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRQcm9qZWN0KG51bSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCBwcm9qZWN0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcHJvamVjdC1pbnB1dC0ke251bX1gKVxyXG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwcm9qZWN0LXRpdGxlLSR7bnVtfWApO1xyXG4gICAgICAgIGNvbnN0IGFwcFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3QtdGl0bGUnKTtcclxuICAgICAgICBjb25zdCB0b2RvTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWxpc3QnKTtcclxuXHJcbiAgICAgICAgdG9kb0xpc3QuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSB2YWx1ZTtcclxuICAgICAgICBwcm9qZWN0SW5wdXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgXHJcbiAgICAgICAgcHJvamVjdHMuYWN0aXZlUHJvamVjdCA9IHZhbHVlO1xyXG4gICAgICAgIGFwcFRpdGxlLnRleHRDb250ZW50ID0gdmFsdWU7XHJcbiAgICAgICAgcHJvamVjdHMuYWRkUHJvamVjdChhcHBUaXRsZS50ZXh0Q29udGVudCwgYHByb2plY3QtJHtudW19YCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJBY3RpdmUgcHJvamVjdDogXCIgKyBwcm9qZWN0cy5hY3RpdmVQcm9qZWN0KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsb2FkUHJvamVjdChwcm9qZWN0KSB7XHJcbiAgICAgICAgY29uc3QgYXBwVGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdC10aXRsZScpO1xyXG4gICAgICAgIGNvbnN0IHRvZG9MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tbGlzdCcpO1xyXG4gICAgICAgIHRvZG9MaXN0LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgYXBwVGl0bGUudGV4dENvbnRlbnQgPSBwcm9qZWN0cy5hY3RpdmVQcm9qZWN0O1xyXG5cclxuICAgICAgICBmb3IobGV0IGl0ZW0gb2YgcHJvamVjdHMucHJvamVjdHMpIHtcclxuICAgICAgICAgICAgaWYocHJvamVjdC5pZCA9PT0gaXRlbS5pZCkge1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCB0b2RvIG9mIGl0ZW0udG9kb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJUb2RvKHRvZG8pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsb2FkQWxsVGFza3MoKSB7XHJcbiAgICAgICAgY29uc3QgdG9kb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1saXN0Jyk7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtdGl0bGUnKTtcclxuXHJcbiAgICAgICAgcHJvamVjdHMuYWN0aXZlUHJvamVjdCA9IFwiVGFza3NcIjtcclxuICAgICAgICBwcm9qZWN0VGl0bGUuaW5uZXJIVE1MID0gXCJBbGxcIjtcclxuICAgICAgICB0b2RvTGlzdC5pbm5lckhUTUwgPSBcIlwiO1xyXG5cclxuICAgICAgICBmb3IobGV0IHRhc2sgb2YgdG9kb3MudGFza3Mpe1xyXG4gICAgICAgICAgICBpZih0YXNrLmNoZWNrZWQgPT09IGZhbHNlIHx8IHRhc2suY2hlY2tlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJUb2RvKHRhc2spO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBsb2FkSW1wb3J0YW50KCkge1xyXG4gICAgICAgIGNvbnN0IHRvZG9MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tbGlzdCcpO1xyXG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LXRpdGxlJyk7XHJcblxyXG4gICAgICAgIHByb2plY3RUaXRsZS5pbm5lckhUTUwgPSBcIkltcG9ydGFudFwiO1xyXG4gICAgICAgIHRvZG9MaXN0LmlubmVySFRNTCA9IFwiXCI7IFxyXG5cclxuICAgICAgICBmb3IobGV0IHRhc2sgb2YgdG9kb3MudGFza3MpIHtcclxuICAgICAgICAgICAgaWYodGFzay5pbXBvcnRhbnQgPT09IHRydWUgJiYgKHRhc2suY2hlY2tlZCA9PT0gZmFsc2UgfHwgdGFzay5jaGVja2VkID09PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJUb2RvKHRhc2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWRDb21wbGV0ZWQoKSB7XHJcbiAgICAgICAgY29uc3QgdG9kb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1saXN0Jyk7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtdGl0bGUnKTtcclxuXHJcbiAgICAgICAgcHJvamVjdFRpdGxlLmlubmVySFRNTCA9IFwiQ29tcGxldGVkXCI7XHJcbiAgICAgICAgdG9kb0xpc3QuaW5uZXJIVE1MID0gXCJcIjtcclxuXHJcbiAgICAgICAgZm9yKGxldCB0YXNrIG9mIHRvZG9zLnRhc2tzKSB7XHJcbiAgICAgICAgICAgIGlmKHRhc2suY2hlY2tlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmVuZGVyVG9kbyh0YXNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZW5kZXJUb2RvLFxyXG4gICAgICAgIGVkaXRUb2RvLFxyXG4gICAgICAgIGxvYWREZWZhdWx0LFxyXG4gICAgICAgIGNyZWF0ZVByb2plY3ROYXYsXHJcbiAgICAgICAgc2V0UHJvamVjdCxcclxuICAgICAgICBsb2FkUHJvamVjdCxcclxuICAgICAgICBsb2FkQWxsVGFza3MsXHJcbiAgICAgICAgbG9hZEltcG9ydGFudCxcclxuICAgICAgICBsb2FkQ29tcGxldGVkLFxyXG4gICAgfVxyXG59KSgpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZG9tOyIsImltcG9ydCB0b2RvcyBmcm9tICcuL3RvZG9zJztcclxuaW1wb3J0IGRvbSBmcm9tICcuL2RvbSc7XHJcbmltcG9ydCBwcm9qZWN0cyBmcm9tICcuL3Byb2plY3RzJztcclxuXHJcbmNvbnN0IGhhbmRsZXJzID0gKCgpID0+IHtcclxuICAgIGNvbnN0IHRvZG9JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWlucHV0Jyk7XHJcbiAgICBjb25zdCBzdWJtaXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VibWl0Jyk7XHJcbiAgICBjb25zdCBsaXN0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG8tbGlzdCcpO1xyXG4gICAgY29uc3QgbmV3UHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXctcHJvamVjdCcpO1xyXG4gICAgY29uc3QgYWxsVG9kb3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxsLXRvZG9zJyk7XHJcbiAgICBjb25zdCBpbXBvcnRhbnRUb2RvcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbXBvcnRhbnQtdG9kb3MnKTtcclxuICAgIGNvbnN0IGNvbXBsZXRlZFRvZG9zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBsZXRlZC10b2RvcycpO1xyXG4gICAgY29uc3QgYXBwVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC10aXRsZScpO1xyXG5cclxuICAgIGFwcFRpdGxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IG9sZE5hbWUgPSBhcHBUaXRsZS50ZXh0Q29udGVudDtcclxuICAgICAgICBjb25zdCBuZXdJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgY29uc3QgbmF2SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdC1uYXYtaXRlbScpO1xyXG4gICAgICAgIGNvbnN0IGhlYWRlckJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItdGl0bGUnKTtcclxuXHJcbiAgICAgICAgaWYoYXBwVGl0bGUudGV4dENvbnRlbnQgPT09ICdUb2RvIExpc3QnIHx8IGFwcFRpdGxlLnRleHRDb250ZW50ID09PSAnQWxsJyB8fCBhcHBUaXRsZS50ZXh0Q29udGVudCA9PT0gJ0NvbXBsZXRlZCcgfHwgYXBwVGl0bGUudGV4dENvbnRlbnQgPT09ICdJbXBvcnRhbnQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3SW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcclxuICAgICAgICBuZXdJbnB1dC52YWx1ZSA9IGFwcFRpdGxlLnRleHRDb250ZW50O1xyXG4gICAgICAgIGFwcFRpdGxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgaGVhZGVyQm94LmFwcGVuZENoaWxkKG5ld0lucHV0KTtcclxuICAgICAgICBuZXdJbnB1dC5mb2N1cygpO1xyXG4gICAgICAgIG5ld0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGlmKGUua2V5ID09PSBcIkVudGVyXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmKG5ld0lucHV0LnZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5wdXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICBhcHBUaXRsZS50ZXh0Q29udGVudCA9IG5ld0lucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgcHJvamVjdCBvZiBwcm9qZWN0cy5wcm9qZWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihwcm9qZWN0Lm5hbWUgPT09IHByb2plY3RzLmFjdGl2ZVByb2plY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3QubmFtZSA9IG5ld0lucHV0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdkl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtLmlkID09PSBwcm9qZWN0LmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZHJlblswXS5jaGlsZHJlblswXS50ZXh0Q29udGVudCA9IHByb2plY3QubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwVGl0bGUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0cy5hY3RpdmVQcm9qZWN0ID0gYXBwVGl0bGUudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdHMucHJvamVjdHMpKVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdJbnB1dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwVGl0bGUudGV4dENvbnRlbnQgPSBvbGROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcFRpdGxlLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBuZXdJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmKG5ld0lucHV0LnZhbHVlICE9PSAnJyl7XHJcbiAgICAgICAgICAgICAgICBuZXdJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgYXBwVGl0bGUudGV4dENvbnRlbnQgPSBuZXdJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgcHJvamVjdCBvZiBwcm9qZWN0cy5wcm9qZWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHByb2plY3QubmFtZSA9PT0gcHJvamVjdHMuYWN0aXZlUHJvamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0Lm5hbWUgPSBuZXdJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmF2SXRlbXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbS5pZCA9PT0gcHJvamVjdC5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZHJlblswXS5jaGlsZHJlblswXS50ZXh0Q29udGVudCA9IHByb2plY3QubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwcm9qZWN0cy5hY3RpdmVQcm9qZWN0ID0gYXBwVGl0bGUudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvamVjdHMnLCBKU09OLnN0cmluZ2lmeShwcm9qZWN0cy5wcm9qZWN0cykpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBuZXdJbnB1dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICBhcHBUaXRsZS50ZXh0Q29udGVudCA9IG9sZE5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXBwVGl0bGUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zdCB0b2RvSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kby1pbnB1dCcpO1xyXG4gICAgICAgIGNvbnN0IGFwcFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtdGl0bGUnKTtcclxuICAgICAgICBpZihhcHBUaXRsZS50ZXh0Q29udGVudCA9PT0gJ0NvbXBsZXRlZCcgfHwgYXBwVGl0bGUudGV4dENvbnRlbnQgPT09ICdJbXBvcnRhbnQnKSB7XHJcbiAgICAgICAgICAgIHRvZG9JbnB1dC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdG9kb0lucHV0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pXHJcblxyXG4gICAgYWxsVG9kb3MuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkb20ubG9hZEFsbFRhc2tzKTtcclxuICAgIGltcG9ydGFudFRvZG9zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZG9tLmxvYWRJbXBvcnRhbnQpO1xyXG4gICAgY29tcGxldGVkVG9kb3MuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkb20ubG9hZENvbXBsZXRlZCk7XHJcbiAgICBuZXdQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZG9tLmNyZWF0ZVByb2plY3ROYXYpO1xyXG5cclxuICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmKHRvZG9JbnB1dC52YWx1ZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICB0b2Rvcy5hZGRUb2RvKHRvZG9JbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgIHRvZG9JbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRvZG9JbnB1dC5mb2N1cygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiRVJST1I6IENhbid0IGJlIGJsYW5rLlwiKVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRvZG9JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKGUua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICAgIGlmKHRvZG9JbnB1dC52YWx1ZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgdG9kb3MuYWRkVG9kbyh0b2RvSW5wdXQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdG9kb0lucHV0LnZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIHRvZG9JbnB1dC5mb2N1cygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJFUlJPUjogQ2FuJ3QgYmUgYmxhbmtcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgbGlzdEJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2ZW50ID0+IHtcclxuICAgICAgICBpZihldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy10aWNrJykpIHtcclxuICAgICAgICAgICAgY29uc3QgaXRlbUtleSA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5kYXRhc2V0LmtleTtcclxuICAgICAgICAgICAgdG9kb3MudG9nZ2xlRG9uZShpdGVtS2V5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YXInKSkge1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtS2V5ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5kYXRhc2V0LmtleTtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0b2Rvcy50YXNrcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09PSBOdW1iZXIgKGl0ZW1LZXkpKTtcclxuICAgICAgICAgICAgaWYodG9kb3MudGFza3NbaW5kZXhdLmltcG9ydGFudCA9PT0gZmFsc2UgfHwgdG9kb3MudGFza3NbaW5kZXhdLmltcG9ydGFudCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0b2Rvcy50YXNrc1tpbmRleF0uaW1wb3J0YW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgcHJvamVjdCBvZiBwcm9qZWN0cy5wcm9qZWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdG9kbyBvZiBwcm9qZWN0LnRvZG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRvZG8uaWQgPT09IHRvZG9zLnRhc2tzW2luZGV4XS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9kby5pbXBvcnRhbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2JpLXN0YXItZmlsbCcpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2JpLXN0YXInKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRvZG9zLnRhc2tzW2luZGV4XS5pbXBvcnRhbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgcHJvamVjdCBvZiBwcm9qZWN0cy5wcm9qZWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdG9kbyBvZiBwcm9qZWN0LnRvZG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRvZG8uaWQgPT09IHRvZG9zLnRhc2tzW2luZGV4XS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9kby5pbXBvcnRhbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdiaS1zdGFyLWZpbGwnKTtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdiaS1zdGFyJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9zJywgSlNPTi5zdHJpbmdpZnkodG9kb3MudGFza3MpKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdHMucHJvamVjdHMpKTtcclxuICAgICAgICAgICAgZG9tLnJlbmRlclRvZG8odG9kb3MudGFza3NbaW5kZXhdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLWVkaXQnKSkge1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtS2V5ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5kYXRhc2V0LmtleTtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0b2Rvcy50YXNrcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmlkID09PSBOdW1iZXIgKGl0ZW1LZXkpKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJIaSFcIik7XHJcbiAgICAgICAgICAgIGRvbS5lZGl0VG9kbyhldmVudC50YXJnZXQsIGluZGV4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLWRlbGV0ZScpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1LZXkgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmRhdGFzZXQua2V5O1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRvZG9zLnRhc2tzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IE51bWJlcihpdGVtS2V5KSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvZG8gPSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgLi4udG9kb3MudGFza3NbaW5kZXhdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodG9kb3MudGFza3NbaW5kZXhdLmRlbGV0ZWQgPT09IHRydWUgfHwgdG9kb3MudGFza3NbaW5kZXhdLmRlbGV0ZWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBwcm9qZWN0IG9mIHByb2plY3RzLnByb2plY3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCB0b2RvIG9mIHByb2plY3QudG9kb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodG9kby5pZCA9PT0gdG9kb3MudGFza3NbaW5kZXhdLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2RvLmRlbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdC50b2RvcyA9IHByb2plY3QudG9kb3MuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPT0gTnVtYmVyKGl0ZW1LZXkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvZG8yID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJvamVjdC50b2Rvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdHMucHJvamVjdHMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbS5yZW5kZXJUb2RvKHRvZG8yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0b2Rvcy50YXNrcyA9IHRvZG9zLnRhc2tzLmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IE51bWJlcihpdGVtS2V5KSk7XHJcbiAgICAgICAgICAgIGRvbS5yZW5kZXJUb2RvKHRvZG8pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnanMtdG9kbycpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1LZXkgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuZGF0YXNldC5rZXk7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdG9kb3MudGFza3MuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5pZCA9PT0gTnVtYmVyKGl0ZW1LZXkpKTtcclxuICAgICAgICAgICAgY29uc3QgbmV3SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgICAgICBuZXdJbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xyXG4gICAgICAgICAgICBuZXdJbnB1dC5jbGFzc0xpc3QuYWRkKCd0b2RvLW5ldycpO1xyXG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5hcHBlbmRDaGlsZChuZXdJbnB1dCk7XHJcbiAgICAgICAgICAgIG5ld0lucHV0LmZvY3VzKCk7XHJcbiAgICAgICAgICAgIG5ld0lucHV0LnZhbHVlID0gZXZlbnQudGFyZ2V0LnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICBldmVudC50YXJnZXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbmV3SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmKGUua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobmV3SW5wdXQudmFsdWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJFUlJPUjogQ2FuJ3Qgc3VibWl0IGEgYmxhbmsgdGFzay5cIilcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbnB1dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnRhcmdldC5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnRleHRDb250ZW50ID0gbmV3SW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZG9zLnRhc2tzW2luZGV4XS5uYW1lID0gbmV3SW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiBwcm9qZWN0cy5wcm9qZWN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCB0b2RvIG9mIGl0ZW0udG9kb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0b2RvLmlkID09PSB0b2Rvcy50YXNrc1tpbmRleF0uaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9kby5uYW1lID0gbmV3SW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzLnByb2plY3RzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvcycsIEpTT04uc3RyaW5naWZ5KHRvZG9zLnRhc2tzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBuZXdJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdJbnB1dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgaWYobmV3SW5wdXQudmFsdWUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnRleHRDb250ZW50ID0gbmV3SW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygndG90YWwtdG9kbycpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiVG90YWxseVwiKVxyXG4gICAgICAgICAgICBjb25zdCBpdGVtS2V5ID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQua2V5O1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRvZG9zLnRhc2tzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IE51bWJlcihpdGVtS2V5KSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgICAgICAgbmV3SW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcclxuICAgICAgICAgICAgbmV3SW5wdXQuY2xhc3NMaXN0LmFkZCgndG9kby1uZXcnKTtcclxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdLmFwcGVuZENoaWxkKG5ld0lucHV0KTtcclxuICAgICAgICAgICAgbmV3SW5wdXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgbmV3SW5wdXQudmFsdWUgPSBldmVudC50YXJnZXQuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMV0uY2hpbGRyZW5bMF0udGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5jaGlsZHJlblswXS5jaGlsZHJlblsxXS5jaGlsZHJlblswXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBuZXdJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihuZXdJbnB1dC52YWx1ZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVSUk9SOiBDYW4ndCBzdWJtaXQgYSBibGFuayB0YXNrLlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0lucHV0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LmNoaWxkcmVuWzBdLmNoaWxkcmVuWzFdLmNoaWxkcmVuWzBdLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMV0uY2hpbGRyZW5bMF0udGV4dENvbnRlbnQgPSBuZXdJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9kb3MudGFza3NbaW5kZXhdLm5hbWUgPSBuZXdJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpdGVtIG9mIHByb2plY3RzLnByb2plY3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHRvZG8gb2YgaXRlbS50b2Rvcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRvZG8uaWQgPT09IHRvZG9zLnRhc2tzW2luZGV4XS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2RvLm5hbWUgPSBuZXdJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2plY3RzJywgSlNPTi5zdHJpbmdpZnkocHJvamVjdHMucHJvamVjdHMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9zJywgSlNPTi5zdHJpbmdpZnkodG9kb3MudGFza3MpKTtcclxuICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIG5ld0lucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIG5ld0lucHV0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMV0uY2hpbGRyZW5bMF0uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICBpZihuZXdJbnB1dC52YWx1ZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMV0uY2hpbGRyZW5bMF0udGV4dENvbnRlbnQgPSBuZXdJbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gcHJvamVjdElucHV0KG51bSkge1xyXG4gICAgICAgIGNvbnN0IHRvZG9JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvLWlucHV0Jyk7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHByb2plY3QtaW5wdXQtJHtudW19YClcclxuICAgICAgICBwcm9qZWN0SW5wdXQuZm9jdXMoKTtcclxuICAgICAgICBwcm9qZWN0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYoZS5rZXkgPT09IFwiRW50ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgdG9kb0lucHV0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZihwcm9qZWN0SW5wdXQudmFsdWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVSUk9SOiBCbGFuayB0aXRsZXMgbm90IGFsbG93ZWQuXCIpXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbS5zZXRQcm9qZWN0KG51bSwgcHJvamVjdElucHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsaWNrTmF2KGVsZSkge1xyXG4gICAgICAgIGVsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBwcm9qZWN0cy5hY3RpdmVQcm9qZWN0ID0gZWxlLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICBkb20ubG9hZFByb2plY3QoZWxlKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJvamVjdElucHV0LFxyXG4gICAgICAgIGNsaWNrTmF2XHJcbiAgICB9XHJcbn0pKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVyczsiLCJpbXBvcnQgaGFuZGxlcnMgZnJvbSAnLi9oYW5kbGVycyc7XHJcbmltcG9ydCBkb20gZnJvbSAnLi9kb20nO1xyXG5pbXBvcnQgcHJvamVjdHMgZnJvbSAnLi9wcm9qZWN0cyc7XHJcblxyXG5jb25zdCB0b2RvcyA9ICgoKSA9PiB7XHJcbiAgICBjbGFzcyBUYXNrIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICB0aGlzLm5vdGVzID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5kYXRlID0gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZXQgdGFza3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2RvcycpKSB8fCBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBhZGRUb2RvKG5hbWUsIG5vdGVzLCBkYXRlLCBpbXBvcnRhbnQsIGNoZWNrZWQpIHtcclxuICAgICAgICBjb25zdCBuZXdUb2RvID0gbmV3IFRhc2sobmFtZSwgbm90ZXMsIGRhdGUsIGltcG9ydGFudCwgY2hlY2tlZCk7XHJcbiAgICAgICAgdGFza3MucHVzaChuZXdUb2RvKTtcclxuICAgICAgICBkb20ucmVuZGVyVG9kbyhuZXdUb2RvKTtcclxuICAgICAgICBwcm9qZWN0cy5hZGRUb2RvVG9Qcm9qZWN0KG5ld1RvZG8pO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvcycsIEpTT04uc3RyaW5naWZ5KHRhc2tzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9nZ2xlRG9uZShrZXkpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IHRhc2tzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IE51bWJlcihrZXkpKTtcclxuICAgIFxyXG4gICAgICAgIHRhc2tzW2luZGV4XS5jaGVja2VkID0gIXRhc2tzW2luZGV4XS5jaGVja2VkO1xyXG4gICAgICAgIGRvbS5yZW5kZXJUb2RvKHRhc2tzW2luZGV4XSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVsZXRlVG9kbyhrZXkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhrZXkpO1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGFza3MuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5pZCA9PT0gTnVtYmVyKGtleSkpO1xyXG4gICAgICAgIGNvbnN0IHRvZG8gPSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIC4uLnRhc2tzW2luZGV4XVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdHMuYWN0aXZlUHJvamVjdCk7XHJcbiAgICAgICAgaWYoY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyB0b2RvIGl0ZW0/XCIpKSB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgcHJvamVjdCBvZiBwcm9qZWN0cy5wcm9qZWN0cykge1xyXG4gICAgICAgICAgICAgICAgaWYocHJvamVjdC5uYW1lID09PSBwcm9qZWN0cy5hY3RpdmVQcm9qZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdC50b2RvcyA9IHByb2plY3QudG9kb3MuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPT0gTnVtYmVyKGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRhc2tzID0gdGFza3MuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPT0gTnVtYmVyKGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9qZWN0cycsIEpTT04uc3RyaW5naWZ5KHByb2plY3RzLnByb2plY3RzKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGFza3MgPSB0YXNrcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmlkICE9PSBOdW1iZXIoa2V5KSk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvcycsIEpTT04uc3RyaW5naWZ5KHRhc2tzKSk7XHJcbiAgICAgICAgICAgIGRvbS5yZW5kZXJUb2RvKHRvZG8pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdGFza3MsXHJcbiAgICAgICAgYWRkVG9kbyxcclxuICAgICAgICB0b2dnbGVEb25lLFxyXG4gICAgICAgIGRlbGV0ZVRvZG9cclxuICAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB0b2RvczsiLCJpbXBvcnQgdG9kb3MgZnJvbSAnLi90b2Rvcyc7XHJcbmltcG9ydCBkb20gZnJvbSAnLi9kb20nO1xyXG5pbXBvcnQgaGFuZGxlcnMgZnJvbSAnLi9oYW5kbGVycyc7XHJcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbiQoXCIjZGF0ZXBpY2tlclwiKS5kYXRlcGlja2VyKCk7XHJcblxyXG53aW5kb3cualF1ZXJ5ID0gJDtcclxud2luZG93LiQgPSAkO1xyXG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImpRdWVyeSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiUHJvamVjdCIsImNvbnN0cnVjdG9yIiwibmFtZSIsImlkIiwidGhlbWUiLCJpY29uIiwidG9kb3MiLCJ0aGlzIiwicHJvamVjdHMiLCJhY3RpdmVQcm9qZWN0IiwiYWRkUHJvamVjdCIsIm5ld1Byb2plY3QiLCJwdXNoIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRUb2RvVG9Qcm9qZWN0IiwidG9kbyIsImFwcFRpdGxlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRleHRDb250ZW50IiwiaXRlbSIsImNvbnNvbGUiLCJsb2ciLCJyZW5kZXJUb2RvIiwicXVlcnlTZWxlY3RvciIsImRlbGV0ZWQiLCJyZW1vdmUiLCJ0b2RvTGlzdCIsIm5ld0xpIiwiY3JlYXRlRWxlbWVudCIsImlzQ2hlY2tlZCIsImNoZWNrZWQiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lckhUTUwiLCJyaWdodFNpZGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImltcG9ydGFudCIsInJlcGxhY2VDaGlsZCIsImFwcGVuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNhYmxlZCIsImxpc3QiLCJwYXJzZSIsImdldEl0ZW0iLCJwcm9qZWN0c0xpc3QiLCJudW0iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsImVkaXRUb2RvIiwiZWxlIiwiaW5kZXgiLCJ0b2RvTm90ZXMiLCJkYXRlUGlja2VyIiwidG9kb1RpdGxlIiwidmFsdWUiLCJkYXRlIiwibm90ZXMiLCIkIiwiZGlhbG9nIiwibW9kYWwiLCJidXR0b25zIiwidGV4dCIsImNsaWNrIiwicGFyZW50RWxlbWVudCIsImNoaWxkcmVuIiwibG9hZERlZmF1bHQiLCJjcmVhdGVQcm9qZWN0TmF2Iiwic2V0UHJvamVjdCIsInByb2plY3RJbnB1dCIsInByb2plY3RUaXRsZSIsInN0eWxlIiwiZGlzcGxheSIsImxvYWRQcm9qZWN0IiwicHJvamVjdCIsImxvYWRBbGxUYXNrcyIsInRhc2siLCJsb2FkSW1wb3J0YW50IiwibG9hZENvbXBsZXRlZCIsInRvZG9JbnB1dCIsInN1Ym1pdEJ0biIsImxpc3RCb3giLCJhbGxUb2RvcyIsImltcG9ydGFudFRvZG9zIiwiY29tcGxldGVkVG9kb3MiLCJvbGROYW1lIiwibmV3SW5wdXQiLCJuYXZJdGVtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJoZWFkZXJCb3giLCJmb2N1cyIsImUiLCJmb3JFYWNoIiwiYWxlcnQiLCJldmVudCIsInRhcmdldCIsImNvbnRhaW5zIiwiaXRlbUtleSIsImRhdGFzZXQiLCJOdW1iZXIiLCJmaWx0ZXIiLCJ0b2RvMiIsImNsaWNrTmF2IiwiVGFzayIsIkRhdGUiLCJub3ciLCJ0YXNrcyIsImFkZFRvZG8iLCJuZXdUb2RvIiwidG9nZ2xlRG9uZSIsImZpbmRJbmRleCIsImRlbGV0ZVRvZG8iLCJjb25maXJtIiwiZGF0ZXBpY2tlciIsIndpbmRvdyJdLCJzb3VyY2VSb290IjoiIn0=